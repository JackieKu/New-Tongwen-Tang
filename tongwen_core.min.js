/*
 * 新同文堂及其一切附件是以自由軟體形式的 GNU 通用公共許可證第二版 (GPL) 發佈的。
 * New Tong Wen Tang and all its extensions are released under the GNU General Public License (GPL) version 2.
 * http://tongwen.openfoundry.org/
 */
var TongWen=(function(){var j="0.2",a="simplified",l="traditional",h=["gb2312","gbk","x-gbk","gb18030","hz-gb-2312","iso-2022-cn"],o=["big5","big5-hkscs","x-euc-tw"],m=h.concat(o,["utf-7","utf-8","utf-16le","x-user-defined"]),s={},f={},r=1,i=1,v="",z=false;return t();function t(){var A=this;toolbarId="tongwen-"+Math.ceil(Math.random()*1000000);if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){g()},false)}else{if(window.attachEvent){window.attachEvent("onload",g)}}return{version:j,flagSimp:a,flagTrad:l,addS2TTable:u,addT2STable:e,convert:n,transPage:x,trans2Trad:p,trans2Simp:k,transAuto:y}}function g(){}function b(){var A=document.createElement("div");A.style.width="200px";A.style.height="100px";A.style.position="fixed";A.style.top="10px";A.style.right="10px";A.style.backgroundColor="#F00";document.body.appendChild(A)}function c(C,B){for(var A=0;A<C.length;A++){if(C[A]==B){return A}}return -1}function u(B){for(var A in B){r=Math.max(r,B[A].length);f[A]=B[A]}}function e(B){for(var A in B){i=Math.max(i,B[A].length);s[A]=B[A]}}function w(A,B){A.documentElement.setAttribute("zhtongwen",B)}function d(A){var B="";if(A&&A.documentElement){B=A.documentElement.getAttribute("zhtongwen");if(B==null){B=""}}return B}function n(G,I){var A=4;var B=null;if(I==a){B=s;A=Math.min(i,G.length)}else{B=f;A=Math.min(r,G.length)}G=G.split("");for(var D=0,F=G.length;D<F;D++){G[D]=B[G[D]]||G[D]}G=G.join("");var E="",J="",H=true;for(var D=0,F=G.length;D<F;){H=true;for(var C=A;C>1;C--){J=G.substr(D,C);if(J in B){E+=B[J];D+=C;H=false;break}}if(H){E+=G.substr(D,1);D++}}if(E!=""){G=E}return G}function q(C,E){var A=[];var D=[];function B(){if(A.length<=0){if(D.length<=0){return}else{x(D.shift(),E)}}var H=A.shift();var F=null;switch(H.nodeType){case 1:switch(H.nodeName.toLowerCase()){case"frame":case"iframe":if(typeof H.contentDocument!="undefined"){x(H.contentDocument,E)}else{if((typeof H.contentWindow!="undefined")&&(typeof H.contentWindow.document!="undefined")){x(H.contentWindow.document,E)}}break;case"embed":case"object":case"script":case"style":case"title":case"br":case"hr":case"noscript":case"script":break;case"img":F=H.getAttribute("title");if(F!=null){H.setAttribute("title",n(F,E))}F=H.getAttribute("alt");if(F!=null){H.setAttribute("alt",n(F,E))}break;case"input":switch(H.type.toLowerCase()){case"button":case"submit":case"reset":if(H.value.length>0){H.value=n(H.value,E)}break;default:}break;case"option":if(H.text.length>0){H.text=n(H.text,E)}break;default:F=H.getAttribute("title");if(F!=null){H.setAttribute("title",n(F,E))}if(H.hasChildNodes()){for(var G=0,J=H.childNodes.length;G<J;G++){if("139".indexOf(H.childNodes[G].nodeType)<0){continue}A.push(H.childNodes[G])}}break}break;case 3:var I=H.nodeValue;if(I.length>0){H.nodeValue=n(I,E)}B();break;case 9:if(H.hasChildNodes()){for(var G=0,J=H.childNodes.length;G<J;G++){if("139".indexOf(H.childNodes[G].nodeType)<0){continue}A.push(H.childNodes[G])}}break}if((A.length>0)||(D.length>0)){setTimeout(B,1)}}A.push(C);setTimeout(B,1)}function x(A,B){v=B;w(A,B);A.title=n(A.title,B);q(A,B)}function p(A){x(A||document,l)}function k(A){x(A||document,a)}function y(B){var A=B||document;var D=A.characterSet.toLowerCase();v=d(B);if(v==""){var C=A.documentElement.getAttribute("lang");if(C!=null){switch(C.toLowerCase()){case"zh-tw":case"zh-hk":v=a;break;case"zh-cn":v=l;break}}if((v=="")&&(c(m,D)>=0)){v=(c(o,D)>=0)?a:l}}else{v=(v==l)?a:l}if(v==""){return}x(A,v)}})();
