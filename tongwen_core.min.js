/*
 * 新同文堂及其一切附件是以自由軟體形式的 GNU 通用公共許可證第二版 (GPL) 發佈的。
 * New Tong Wen Tang and all its extensions are released under the GNU General Public License (GPL) version 2.
 * http://tongwen.openfoundry.org/
 */
var TongWen=(function(){var i="0.2",a="simplified",k="traditional",g=["gb2312","gbk","x-gbk","gb18030","hz-gb-2312","iso-2022-cn"],n=["big5","big5-hkscs","x-euc-tw"],l=g.concat(n,["utf-7","utf-8","utf-16le","x-user-defined"]),r={},e={},q=1,h=1,u="",y=false;return s();function s(){var z=this;toolbarId="tongwen-"+Math.ceil(Math.random()*1000000);if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){f()},false)}else{if(window.attachEvent){window.attachEvent("onload",f)}}return{version:i,flagSimp:a,flagTrad:k,addS2TTable:t,addT2STable:d,convert:m,transPage:w,trans2Trad:o,trans2Simp:j,transAuto:x}}function f(){}function b(){var z=document.createElement("div");z.style.width="200px";z.style.height="100px";z.style.position="fixed";z.style.top="10px";z.style.right="10px";z.style.backgroundColor="#F00";document.body.appendChild(z)}function t(A){for(var z in A){q=Math.max(q,A[z].length);e[z]=A[z]}}function d(A){for(var z in A){h=Math.max(h,A[z].length);r[z]=A[z]}}function v(z,A){z.documentElement.setAttribute("zhtongwen",A)}function c(z){var A="";if(z&&z.documentElement){A=z.documentElement.getAttribute("zhtongwen");if(A==null){A=""}}return A}function m(F,H){var z=4;var A=null;if(H==a){A=r;z=Math.min(h,F.length)}else{A=e;z=Math.min(q,F.length)}F=F.split("");for(var C=0,E=F.length;C<E;C++){F[C]=A[F[C]]||F[C]}F=F.join("");var D="",I="",G=true;for(var C=0,E=F.length;C<E;){G=true;for(var B=z;B>1;B--){I=F.substr(C,B);if(I in A){D+=A[I];C+=B;G=false;break}}if(G){D+=F.substr(C,1);C++}}if(D!=""){F=D}return F}function p(B,D){var z=[];var C=[];function A(){if(z.length<=0){if(C.length<=0){return}else{w(C.shift(),D)}}var G=z.shift();var E=null;switch(G.nodeType){case 1:switch(G.nodeName.toLowerCase()){case"frame":case"iframe":if(typeof G.contentDocument!="undefined"){w(G.contentDocument,D)}else{if((typeof G.contentWindow!="undefined")&&(typeof G.contentWindow.document!="undefined")){w(G.contentWindow.document,D)}}break;case"embed":case"object":case"script":case"style":case"title":case"br":case"hr":case"noscript":case"script":break;case"img":E=G.getAttribute("title");if(E!=null){G.setAttribute("title",m(E,D))}E=G.getAttribute("alt");if(E!=null){G.setAttribute("alt",m(E,D))}break;case"input":switch(G.type.toLowerCase()){case"button":case"submit":case"reset":if(G.value.length>0){G.value=m(G.value,D)}break;default:}break;case"option":if(G.text.length>0){G.text=m(G.text,D)}break;default:E=G.getAttribute("title");if(E!=null){G.setAttribute("title",m(E,D))}if(G.hasChildNodes()){for(var F=0,I=G.childNodes.length;F<I;F++){if("139".indexOf(G.childNodes[F].nodeType)<0){continue}z.push(G.childNodes[F])}}break}break;case 3:var H=G.nodeValue;if(H.length>0){G.nodeValue=m(H,D)}A();break;case 9:if(G.hasChildNodes()){for(var F=0,I=G.childNodes.length;F<I;F++){if("139".indexOf(G.childNodes[F].nodeType)<0){continue}z.push(G.childNodes[F])}}break}if((z.length>0)||(C.length>0)){setTimeout(A,1)}}z.push(B);setTimeout(A,1)}function w(z,A){u=A;v(z,A);z.title=m(z.title,A);p(z,A)}function o(z){w(z||document,k)}function j(z){w(z||document,a)}function x(A){var z=A||document;var C=z.characterSet.toLowerCase();u=c(A);if(u==""){var B=z.documentElement.getAttribute("lang");if(B!=null){switch(B.toLowerCase()){case"zh-tw":case"zh-hk":u=a;break;case"zh-cn":u=k;break}}if((u=="")&&(l.indexOf(C)>=0)){u=(n.indexOf(C)>=0)?a:k}}else{u=(u==k)?a:k}if(u==""){return}w(z,u)}})();
